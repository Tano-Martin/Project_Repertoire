{% extends 'base/base.html' %}
{% load static %}

{% block content %}
    <h3 style="text-align: center; padding: 20px;">Ajouter un nouveau contact</h3>
    <div  style="border: 1px solid #3f3f3f78; height: 120px; width: 120px; border-radius:100%; display: flex; align-items: center; justify-content: center; margin-bottom: 10px; margin:auto;">

        <img id="output" src="{% static 'images/photo.png' %}" alt="" style="width: 70%; height: 70%;">

    </div>

    <form action="#" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="block">
            <div class="inputs" >
                <label for="photo">Photo</label>
                <div style=" font-size: 0.8em;">
                    <input type="file" name="photo" onchange="loadFile(event)">
                </div>

                <label for="nom">Nom</label>
                <input type="text" name="nom" id="nom">

                <label for="prenom">Prénom</label>
                <input type="text" name="prenom" id="prenom">

                <label for="email">Adresse électronique</label>
                <input type="email" name="email">
                
                <label for="telephone">Numéro de téléphone</label>
                <input type="tel" name="telephone">
            </div>
            <div align="center" style="display: flex;">
                <a href="{% url 'contact' user.username %}"><button type="button" style="margin: 0 5px; background-color: #c0bcbc;">Annuler</button></a>
                <button type="submit" style="margin: 0 5px;">Sauvegarder</button>
            </div>
        </div>
    </form>


    <script>
      var loadFile = function(event) {
        var output = document.getElementById('output');
        output.src = URL.createObjectURL(event.target.files[0]);
        output.onload = function() {
          URL.revokeObjectURL(output.src) // free memory
        }
      };
    </script>
{% endblock content %}